<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CompBot Web</title>
    <script src="../../jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" href="../../style.css">
</head>
<body>

<h1 id="message">Display name:</h1>
<form id="my-form">
    <label>
        <input id="username" type="text" placeholder="123456" autofocus><br><br>
    </label>

    <a onclick="joinComp()"><button><h1>Join With Token</h1></button></a>
</form>
<a href="../../"><button><h1>Home</h1></button></a>

<div class="temp"></div>

</body>

<script>
    async function joinComp() {
        const token = $("#username").val();
        if (token.length !== 6) alert('Token must be 6 characters!');
        else if (!/[0-9]/.test(token)) alert('Can only contain numbers!');
        else {
            window.location.href = '../../?t=' + token;
        }
    }

    function processForm(e) {
        if (e.preventDefault) e.preventDefault();

        // joinComp();

        return false;
    }

    var form = document.getElementById('my-form');
    if (form.attachEvent) {
        form.attachEvent("submit", processForm);
    } else {
        form.addEventListener("submit", processForm);
    }
</script>